# reMarkable Integration Configuration

# reMarkable tablet settings
remarkable:
  # Path to reMarkable app data directory (for two-tier watching)
  # This is the original directory where reMarkable desktop app stores data
  source_directory: null  # e.g., "~/Library/Containers/com.remarkable.desktop/Data/Documents/remarkable" (macOS)
  
  # Path to local sync directory (for processing)
  # This is where we sync data locally for safe processing
  local_sync_directory: "./data/remarkable_sync"
  
  # Legacy: Path to reMarkable sync directory (deprecated - use source_directory instead)
  sync_directory: null
  
  # Sync settings for two-tier watching
  sync_debounce_seconds: 30  # Wait time after last change before syncing
  sync_exclude_patterns:     # Patterns to exclude from sync
    - "*.tmp"
    - "*.DS_Store"
    - ".*"
  
  # Path to backup directory (optional)
  backup_directory: null

# Database settings
database:
  # Path to SQLite database file
  path: "remarkable_pipeline.db"
  
  # Enable automatic backups
  backup_enabled: true
  
  # Backup interval in hours
  backup_interval_hours: 24

# Processing settings
processing:
  # Highlight extraction settings
  highlight_extraction:
    enabled: true
    # Minimum length for ASCII text sequences
    min_text_length: 8
    # Minimum ratio of alphabetic characters (0.0-1.0)
    text_threshold: 0.4
    # Minimum number of words in extracted text
    min_words: 2
    # Maximum ratio of symbols to characters (0.0-1.0)
    symbol_ratio_threshold: 0.3
  
  # OCR settings (for handwritten text recognition)
  ocr:
    enabled: false
    language: "en"
    confidence_threshold: 0.7
  
  # File watching settings (two-tier system)
  file_watching:
    enabled: true
    # Processing cooldown to avoid duplicate processing (seconds)
    processing_cooldown: 5
    # Files to watch in source directory
    source_watch_patterns:
      - "*.content"
      - "*.metadata" 
      - "*.rm"
      - "*.pdf"
      - "*.epub"
    # Files to ignore in source directory
    source_ignore_patterns:
      - ".*"
      - "*.tmp"
      - "*.log"
    # Files to process in local sync directory
    local_process_patterns:
      - "*.content"
      - "*.metadata"
      - "*.rm"

# Third-party integrations
integrations:
  # Notion integration
  notion:
    enabled: false
    # Get your API token from https://developers.notion.com/
    api_token: null
    # Database ID where highlights will be synced
    database_id: null
  
  # Readwise integration  
  readwise:
    enabled: false
    # Get your API token from https://readwise.io/access_token
    api_token: null
  
  # Microsoft To Do integration
  microsoft_todo:
    enabled: false
    # Azure app registration credentials
    client_id: null
    client_secret: null

# Logging settings
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR
  level: "INFO"
  
  # Log message format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # Log file path (null for console only)
  file: null  # e.g., "remarkable_integration.log"

# Example configurations for different setups:
#
# Basic two-tier watching setup (macOS):
# remarkable:
#   source_directory: "~/Library/Containers/com.remarkable.desktop/Data/Documents/remarkable"
#   local_sync_directory: "./data/remarkable_sync"
#   sync_debounce_seconds: 30
# 
# Basic setup (Windows):
# remarkable:
#   source_directory: "%APPDATA%/remarkable/desktop"
#   local_sync_directory: "./data/remarkable_sync"
#
# Basic setup (Linux):
# remarkable:
#   source_directory: "~/.local/share/remarkable/desktop"
#   local_sync_directory: "./data/remarkable_sync"
# 
# Advanced setup with integrations and custom sync settings:
# remarkable:
#   source_directory: "~/Library/Containers/com.remarkable.desktop/Data/Documents/remarkable"
#   local_sync_directory: "./data/remarkable_sync"
#   sync_debounce_seconds: 15  # More responsive syncing
#   sync_exclude_patterns:
#     - "*.tmp"
#     - "*.DS_Store"
#     - "debug*"
#   backup_directory: "./data/backups"
# processing:
#   file_watching:
#     processing_cooldown: 2  # More responsive processing
# integrations:
#   readwise:
#     enabled: true
#     api_token: "your_readwise_token_here"
#   notion:
#     enabled: true  
#     api_token: "your_notion_token_here"
#     database_id: "your_notion_database_id"
# logging:
#   level: "DEBUG"
#   file: "remarkable_integration.log"